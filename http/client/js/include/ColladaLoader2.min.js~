(function(){var k,o,T,F,S,af,ad,Q,d,a,ab,x,v,b,e,O,K,Z,u,J,B,p,V,h,i,aa,G,m,g,z,t,I,w,Y,ac,R,E,U,P,r,H,M,C,n,c,s,ae,f,X,y,W,j,A,D,L,l,N,ag=Object.prototype.hasOwnProperty,q=function(ak,ai){for(var ah in ai){if(ag.call(ai,ah)){ak[ah]=ai[ah]}}function aj(){this.constructor=ak}aj.prototype=ai.prototype;ak.prototype=new aj;ak.__super__=ai.prototype;return ak};c=function(aj,ak){var ai,ah;ah="";for(ai=1;ai<=aj;ai+=1){ah+="    "}ah+=ak;return ah};n=function(ah,ai){return c(ah,"|-"+ai)};C=function(ai,ah,aj){if(!(ai!=null)){return""}if(typeof ai==="string"){return n(ah,aj+("'"+ai+"'\n"))}if(typeof ai==="number"){return n(ah,aj+(""+ai+"\n"))}if(typeof ai==="boolean"){return n(ah,aj+(""+ai+"\n"))}if(ai.getInfo!=null){return ai.getInfo(ah,aj)}return n(ah,aj+"<unknown data type>\n")};Y=(function(){function ah(ai){this.url=ai.trim().replace(/^#/,"");this.object=null}ah.prototype.getInfo=function(ai,aj){return n(ai,aj+("<urlLink url='"+this.url+"'>\n"))};return ah})();b=(function(){function ah(ai,aj){this.url=ai;this.scope=aj;this.object=null}ah.prototype.getInfo=function(ai,aj){return n(ai,aj+("<fxLink url='"+this.url+"'>\n"))};return ah})();z=(function(){function ah(an,ai){var al,ar,aq,ao,aj,am,ak,ap;this.url=ai;this.object=null;this.id=null;this.sids=[];this.member=null;this.indices=null;this.dotSyntax=false;this.arrSyntax=false;am=ai.split("/");this.id=am.shift();if(this.id==="."){this.id=an}while(am.length>1){this.sids.push(am.shift())}if(am.length>0){aj=am[0];aq=aj.indexOf(".")>=0;ar=aj.indexOf("(")>=0;if(aq){am=aj.split(".");this.sids.push(am.shift());this.member=am.shift();this.dotSyntax=true}else{if(ar){al=aj.split("(");this.sids.push(al.shift());this.indices=[];for(ak=0,ap=al.length;ak<ap;ak++){ao=al[ak];this.indices.push(parseInt(ao.replace(/\)/,""),10))}this.arrSyntax=true}else{this.sids.push(aj)}}}}ah.prototype.getInfo=function(ai,ak){var aj,al;al="<sidLink id='"+this.id+"'";if(this.sids.length>0){al+=", sids='[";al+=this.sids.join(",");al+="]'"}al+=">\n";return aj=n(ai,ak+al)};return ah})();o=(function(){function ah(){this.animTarget={};this.animTarget.channels=[];this.animTarget.activeChannels=[];this.animTarget.dataRows=null;this.animTarget.dataColumns=null}ah.prototype.selectAnimation=function(ak){var al,aj,ai,am;this.animTarget.activeChannels=[];am=this.animTarget.channels;for(aj=0,ai=am.length;aj<ai;aj++){al=am[aj];if(ak(al,aj)){this.animTarget.activeChannels.push(al)}}};ah.prototype.selectAnimationById=function(ai){this.selectAnimation(function(ak,aj){return ak.animation.id===ai})};ah.prototype.selectAnimationByName=function(ai){this.selectAnimation(function(ak,aj){return ak.animation.name===ai})};ah.prototype.selectAllAnimations=function(ai){this.selectAnimation(function(ak,aj){return true})};ah.prototype.applyAnimationKeyframe=function(ai){throw new Error("applyAnimationKeyframe() not implemented")};ah.prototype.initAnimationTarget=function(){throw new Error("initAnimationTarget() not implemented")};ah.prototype.resetAnimation=function(){throw new Error("resetAnimation() not implemented")};return ah})();T=(function(){function ah(){this.unit=1;this.upAxis=null}ah.prototype.getInfo=function(ai,aj){return n(ai,aj+"<asset>\n")};return ah})();E=(function(){function ah(){this.id=null;this.children=[];this.sidChildren=[]}ah.prototype.getInfo=function(ai,an){var ao,ak,am,aj,al;ak=n(ai,an+("<visualScene id='"+this.id+"'>\n"));if(this.children!=null){al=this.children;for(am=0,aj=al.length;am<aj;am++){ao=al[am];ak+=C(ao,ai+1,"child ")}}return ak};return ah})();U=(function(){function ah(){this.id=null;this.sid=null;this.name=null;this.type=null;this.layer=null;this.parent=null;this.children=[];this.sidChildren=[];this.transformations=[];this.geometries=[];this.controllers=[];this.lights=[];this.cameras=[]}ah.prototype.getInfo=function(av,aw){var ar,at,ao,an,al,aj,az,aB,aA,ay,ax,ai,au,aq,ap,am,ak;at=n(av,aw+("<visualSceneNode id='"+this.id+"', sid='"+this.sid+"', name='"+this.name+"'>\n"));if(this.geometries!=null){au=this.geometries;for(ao=0,az=au.length;ao<az;ao++){ar=au[ao];at+=C(ar,av+1,"geometry ")}}if(this.controllers!=null){aq=this.controllers;for(an=0,aB=aq.length;an<aB;an++){ar=aq[an];at+=C(ar,av+1,"controller ")}}if(this.lights!=null){ap=this.lights;for(al=0,aA=ap.length;al<aA;al++){ar=ap[al];at+=C(ar,av+1,"light ")}}if(this.cameras!=null){am=this.cameras;for(aj=0,ay=am.length;aj<ay;aj++){ar=am[aj];at+=C(ar,av+1,"camera ")}}if(this.children!=null){ak=this.children;for(ai=0,ax=ak.length;ai<ax;ai++){ar=ak[ai];at+=C(ar,av+1,"child ")}}return at};ah.prototype.getTransformMatrix=function(ai){var ak,al,an,aj,am;ak=new THREE.Matrix4;ai.identity();am=this.transformations;for(an=0,aj=am.length;an<aj;an++){al=am[an];al.getTransformMatrix(ak);ai.multiplyMatrices(ai,ak)}};return ah})();m=(function(ai){q(ah,ai);function ah(){ah.__super__.constructor.call(this);this.sid=null;this.type=null;this.data=null;this.originalData=null;this.node=null}ah.prototype.getTransformMatrix=function(aj){var ak;switch(this.type){case"matrix":X(this.data,0,aj);break;case"rotate":ak=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);aj.makeRotationAxis(ak,this.data[3]*P);break;case"translate":aj.makeTranslation(this.data[0],this.data[1],this.data[2]);break;case"scale":aj.makeScale(this.data[0],this.data[1],this.data[2]);break;default:throw new Error("transform type '"+this.type+"' not implemented")}};ah.prototype.applyAnimationKeyframe=function(am){var an,al,aj,ap,ak,ao,aq;ao=this.animTarget.activeChannels;for(ap=0,ak=ao.length;ap<ak;ap++){an=ao[ap];aj=an.outputData;for(al=0,aq=an.count-1;al<=aq;al+=1){this.data[an.offset+al]=aj[am*an.stride+al]}}};ah.prototype.initAnimationTarget=function(){var al,aj,ak,am;this.originalData=new Float32Array(this.data.length);am=this.data;for(al=0,ak=am.length;al<ak;al++){aj=am[al];this.originalData[al]=this.data[al]}switch(this.type){case"matrix":this.animTarget.dataColumns=4;this.animTarget.dataRows=4;break;case"rotate":this.animTarget.dataColumns=4;this.animTarget.dataRows=1;break;case"translate":case"scale":this.animTarget.dataColumns=3;this.animTarget.dataRows=1;break;default:throw new Error("transform type '"+this.type+"' not implemented")}};ah.prototype.resetAnimation=function(){var al,aj,ak,am;am=this.originalData;for(al=0,ak=am.length;al<ak;al++){aj=am[al];this.data[al]=this.originalData[al]}};return ah})(o);J=(function(){function ah(){this.geometry=null;this.materials=[];this.sidChildren=[]}ah.prototype.getInfo=function(ai,ao){var al,ak,an,aj,am;ak=n(ai,ao+"<instanceGeometry>\n");ak+=C(this.geometry,ai+1,"geometry ");am=this.materials;for(an=0,aj=am.length;an<aj;an++){al=am[an];ak+=C(al,ai+1,"material ")}return ak};return ah})();u=(function(){function ah(){this.controller=null;this.skeletons=[];this.materials=[];this.sidChildren=[]}ah.prototype.getInfo=function(ak,aq){var ar,aj,am,ao,an,at,ai,ap,al;aj=n(ak,aq+"<instanceController>\n");aj+=C(this.controller,ak+1,"controller ");ap=this.skeletons;for(ao=0,at=ap.length;ao<at;ao++){am=ap[ao];aj+=C(am,ak+1,"skeleton ")}al=this.materials;for(an=0,ai=al.length;an<ai;an++){ar=al[an];aj+=C(ar,ak+1,"material ")}return aj};return ah})();p=(function(){function ah(){this.sid=null;this.symbol=null;this.material=null;this.name=null;this.vertexInputs={};this.params={}}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+("<instanceMaterial sid='"+this.sid+"'>\n"));aj+=C(this.material,ai+1,"material ");return aj};return ah})();B=(function(){function ah(){this.sid=null;this.light=null;this.name=null;this.sidChildren=[]}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+"<instanceLight>\n");aj+=C(this.light,ai+1,"light ");return aj};return ah})();Z=(function(){function ah(){this.sid=null;this.camera=null;this.name=null;this.sidChildren=[]}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+"<instanceCamera>\n");aj+=C(this.light,ai+1,"camera ");return aj};return ah})();O=(function(){function ah(){this.id=null;this.initFrom=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+("<image id='"+this.id+"'>\n"));aj+=C(this.initFrom,ai+1,"initFrom ");return aj};return ah})();d=(function(){function ah(){this.id=null;this.sids={};this.technique=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+("<effect id='"+this.id+"'>\n"));aj+=C(this.technique,ai+1,"technique ");return aj};return ah})();x=(function(){function ah(){this.sid=null;this.sids={};this.fxScope=null;this.shading=null;this.emission=null;this.ambient=null;this.diffuse=null;this.specular=null;this.shininess=null;this.reflective=null;this.transparent=null;this.bump=null;this.reflectivity=null;this.transparency=null;this.index_of_refraction=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+("<technique sid='"+this.sid+"'>\n"));return aj};return ah})();ab=(function(){function ah(){this.sid=null;this.fxScope=null;this.type=null;this.initFrom=null;this.format=null;this.size=null;this.viewportRatio=null;this.mipLevels=null;this.mipmapGenerate=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+("<surface sid='"+this.sid+"'>\n"));aj+=C(this.initFrom,ai+1,"initFrom ");return aj};return ah})();a=(function(){function ah(){this.sid=null;this.fxScope=null;this.surface=null;this.image=null;this.wrapS=null;this.wrapT=null;this.minfilter=null;this.magfilter=null;this.borderColor=null;this.mipmapMaxLevel=null;this.mipmapBias=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+("<sampler sid='"+this.sid+"'>\n"));aj+=C(this.image,ai+1,"image ");aj+=C(this.surface,ai+1,"surface ");return aj};return ah})();ad=(function(){function ah(){this.color=null;this.textureSampler=null;this.texcoord=null;this.opaque=null;this.bumptype=null}return ah})();G=(function(){function ah(){this.id=null;this.name=null;this.effect=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+("<material id='"+this.id+"' name='"+this.name+"'>\n"));aj+=C(this.effect,ai+1,"effect ");return aj};return ah})();e=(function(){function ah(){this.id=null;this.name=null;this.sources=[];this.vertices=null;this.triangles=[]}ah.prototype.getInfo=function(al,aq){var ak,ai,at,ao,an,ar,aj,ap,am;ak=n(al,aq+("<geometry id='"+this.id+"' name='"+this.name+"'>\n"));ap=this.sources;for(ao=0,ar=ap.length;ao<ar;ao++){ai=ap[ao];ak+=C(ai,al+1,"source ")}ak+=C(this.vertices,al+1,"vertices ");am=this.triangles;for(an=0,aj=am.length;an<aj;an++){at=am[an];ak+=C(at,al+1,"triangles ")}return ak};return ah})();I=(function(){function ah(){this.id=null;this.name=null;this.sourceId=null;this.count=null;this.stride=null;this.data=null;this.params={}}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+("<source id='"+this.id+"' name='"+this.name+"'>\n"));aj+=C(this.sourceId,ai+1,"sourceId ");return aj};return ah})();R=(function(){function ah(){this.id=null;this.name=null;this.inputs=[]}ah.prototype.getInfo=function(ai,ao){var al,ak,an,aj,am;ak=n(ai,ao+("<vertices id='"+this.id+"' name='"+this.name+"'>\n"));am=this.inputs;for(an=0,aj=am.length;an<aj;an++){al=am[an];ak+=C(al,ai+1,"input ")}return ak};return ah})();w=(function(){function ah(){this.name=null;this.count=null;this.material=null;this.inputs=[];this.indices=null}ah.prototype.getInfo=function(ai,ao){var al,ak,an,aj,am;ak=n(ai,ao+("<triangles name='"+this.name+"'>\n"));ak+=C(this.material,ai+1,"material ");am=this.inputs;for(an=0,aj=am.length;an<aj;an++){al=am[an];ak+=C(al,ai+1,"input ")}return ak};return ah})();K=(function(){function ah(){this.semantic=null;this.source=null;this.offset=null;this.set=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+("<input semantic="+this.semantic+">\n"));aj+=C(this.source,ai+1,"source ");return aj};return ah})();Q=(function(){function ah(){this.id=null;this.name=null;this.skin=null;this.morph=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+("<controller id='"+this.id+"', name='"+this.name+"'>\n"));aj+=C(this.skin,ai+1,"skin ");aj+=C(this.morph,ai+1,"morph ");return aj};return ah})();t=(function(){function ah(){this.source=null;this.bindShapeMatrix=null;this.sources=[];this.joints=null;this.vertexWeights=null}ah.prototype.getInfo=function(ai,ao){var ak,an,am,aj,al;ak=n(ai,ao+("<skin source='"+this.source+"'>\n"));ak+=C(this.bindShapeMatrix,ai+1,"bind_shape_matrix ");al=this.sources;for(am=0,aj=al.length;am<aj;am++){an=al[am];ak+=C(an,ai+1,"source ")}ak+=C(this.joints,ai+1,"joints ");ak+=C(this.vertexWeights,ai+1,"vertex_weights ");return ak};return ah})();V=(function(){function ah(){this.joints=null;this.invBindMatrices=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+"<joints>\n");aj+=C(this.joints,ai+1,"joints ");aj+=C(this.invBindMatrices,ai+1,"invBindMatrices ");return aj};return ah})();ac=(function(){function ah(){this.inputs=[];this.vcount=null;this.v=null;this.joints=null;this.weights=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+"<vertex_weights>\n");aj+=C(this.joints,ai+1,"joints ");aj+=C(this.weights,ai+1,"weights ");return aj};return ah})();k=(function(){function ah(){this.id=null;this.name=null;this.parent=null;this.rootId=null;this.rootName=null;this.animations=[];this.sources=[];this.samplers=[];this.channels=[]}ah.prototype.getInfo=function(ar,av){var aw,aB,ap,at,au,an,al,aj,ai,ay,aA,az,ax,aq,ao,am,ak;ap=n(ar,av+("<animation id='"+this.id+"', name='"+name+"'>\n"));aq=this.animations;for(an=0,ay=aq.length;an<ay;an++){aw=aq[an];ap+=C(aw,ar+1,"animation ")}ao=this.sources;for(al=0,aA=ao.length;al<aA;al++){au=ao[al];ap+=C(au,ar+1,"source ")}am=this.samplers;for(aj=0,az=am.length;aj<az;aj++){at=am[aj];ap+=C(at,ar+1,"sampler ")}ak=this.channels;for(ai=0,ax=ak.length;ai<ax;ai++){aB=ak[ai];ap+=C(aB,ar+1,"channel ")}return ap};return ah})();g=(function(){function ah(){this.id=null;this.input=null;this.outputs=[];this.inTangents=[];this.outTangents=[];this.interpolation=null}ah.prototype.getInfo=function(am,au){var ak,al,aw,ar,aq,ap,av,aj,ai,at,ao,an;al=n(am,au+("<sampler id='"+this.id+"'>\n"));al+=C(this.input,am+1,"input ");at=this.outputs;for(ar=0,av=at.length;ar<av;ar++){ak=at[ar];al+=C(ak,am+1,"output ")}ao=this.inTangents;for(aq=0,aj=ao.length;aq<aj;aq++){aw=ao[aq];al+=C(aw,am+1,"inTangent ")}an=this.outTangents;for(ap=0,ai=an.length;ap<ai;ap++){aw=an[ap];al+=C(aw,am+1,"outTangent ")}al+=C(this.interpolation,am+1,"interpolation ");return al};return ah})();af=(function(){function ah(){this.animation=null;this.source=null;this.target=null}ah.prototype.getInfo=function(ai,ak){var aj;aj=n(ai,ak+"<channel>\n");aj+=C(this.source,ai+1,"source ");aj+=C(this.target,ai+1,"target ");return aj};return ah})();h=(function(){fu
